<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healing, Repair & Regeneration Quiz</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .progress-container {
            background-color: var(--light);
            border-radius: 10px;
            height: 15px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .question-container {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .question-number {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            font-weight: 600;
            line-height: 1.5;
        }
        
        .options-container {
            display: grid;
            gap: 12px;
        }
        
        .option {
            background-color: var(--light);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #d6dbdf;
            transform: translateY(-2px);
        }
        
        .option.selected {
            border-color: var(--primary);
            background-color: #e1f0fa;
        }
        
        .option.correct {
            border-color: var(--success);
            background-color: #d4efdf;
        }
        
        .option.incorrect {
            border-color: var(--danger);
            background-color: #fadbd8;
        }
        
        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background-color: #bdc3c7;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }
        
        .selected .option-letter, .correct .option-letter, .incorrect .option-letter {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .explanation-container {
            background-color: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            display: none;
            border-left: 5px solid var(--primary);
        }
        
        .explanation-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .memory-tip {
            background-color: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--warning);
        }
        
        .memory-tip-title {
            font-weight: bold;
            color: var(--warning);
            margin-bottom: 5px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #1c2833;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-container {
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: none;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: white;
            background: conic-gradient(var(--success) 0% 0%, var(--light) 0% 100%);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .performance-summary {
            margin-top: 30px;
            text-align: left;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .stat-label {
            font-weight: 600;
        }
        
        .stat-value {
            font-weight: bold;
        }
        
        .review-container {
            display: none;
            margin-top: 30px;
        }
        
        .review-item {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .review-question {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .review-answer {
            margin-top: 5px;
            padding: 8px 0;
        }
        
        .correct-answer {
            color: var(--success);
            font-weight: 600;
        }
        
        .user-answer.correct {
            color: var(--success);
            font-weight: 600;
        }
        
        .user-answer.incorrect {
            color: var(--danger);
            font-weight: 600;
        }
        
        .section-title {
            margin: 30px 0 15px;
            color: var(--secondary);
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .quiz-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .score-circle {
                width: 150px;
                height: 150px;
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Healing, Repair & Regeneration</h1>
            <p class="subtitle">Comprehensive Quiz for Medical Students</p>
        </header>
        
        <div class="quiz-info">
            <div>Questions: <span id="current-question">1</span>/<span id="total-questions">45</span></div>
            <div>Score: <span id="current-score">0</span>/45</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div id="quiz-container">
            <div class="question-container">
                <div class="question-number">Question <span id="q-number">1</span></div>
                <div class="question-text" id="question-text"></div>
                
                <div class="options-container" id="options-container">
                    <!-- Options will be inserted here by JavaScript -->
                </div>
                
                <div class="explanation-container" id="explanation-container">
                    <div class="explanation-title">Explanation:</div>
                    <div id="explanation-text"></div>
                    <div class="memory-tip">
                        <div class="memory-tip-title">Memory Tip:</div>
                        <div id="memory-tip"></div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button id="prev-btn" class="btn-secondary">Previous Question</button>
                    <button id="next-btn" class="btn-primary">Next Question</button>
                    <button id="submit-btn" class="btn-success" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
        
        <div class="results-container" id="results-container">
            <h2>Quiz Results</h2>
            <div class="score-circle" id="score-circle">
                <span id="score-percentage">0%</span>
            </div>
            <h3>Your Score: <span id="score-text">0</span>/<span id="total-score">45</span></h3>
            
            <div class="performance-summary">
                <h4 class="section-title">Performance Summary</h4>
                <div class="stat-row">
                    <span class="stat-label">Correct Answers:</span>
                    <span class="stat-value" id="correct-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Incorrect Answers:</span>
                    <span class="stat-value" id="incorrect-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Unanswered Questions:</span>
                    <span class="stat-value" id="unanswered-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Accuracy:</span>
                    <span class="stat-value" id="accuracy">0%</span>
                </div>
            </div>
            
            <div class="navigation" style="margin-top: 30px;">
                <button id="review-btn" class="btn-secondary">Review Questions</button>
                <button id="restart-btn" class="btn-primary">Restart Quiz</button>
            </div>
        </div>
        
        <div class="review-container" id="review-container">
            <h2>Question Review</h2>
            <div id="review-questions">
                <!-- Review items will be inserted here by JavaScript -->
            </div>
            <div class="navigation">
                <button id="back-to-results" class="btn-primary">Back to Results</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz questions array
        const questions = [
            {
                id: 1,
                question: "What is the primary definition of healing in a pathological context?",
                options: [
                    "The process of inflammation following tissue injury",
                    "The body's process of replacing destroyed tissue with new, viable tissue",
                    "The formation of scar tissue to close a wound",
                    "The regeneration of specialized cells after damage"
                ],
                correctAnswer: 1,
                explanation: "Healing refers to the body's process of replacing destroyed tissue with new, viable tissue, restoring normal structure and function after injury.",
                memoryTip: "Healing = tissue replacement to restore structure and function"
            },
            {
                id: 2,
                question: "Which of the following represents the two distinct processes of healing?",
                options: [
                    "Inflammation and proliferation",
                    "Regeneration and repair",
                    "Hemostasis and remodeling",
                    "Granulation and contraction"
                ],
                correctAnswer: 1,
                explanation: "Healing occurs through two distinct processes: regeneration (replacement with similar tissue) and repair (replacement with scar tissue).",
                memoryTip: "Two healing modes: Regeneration (same tissue) and Repair (scar tissue)"
            },
            {
                id: 3,
                question: "What determines whether healing occurs through regeneration or repair?",
                options: [
                    "The patient's age and nutritional status",
                    "The type of injury and presence of infection",
                    "The cell type involved, injury severity, and stromal framework integrity",
                    "The location of the injury and blood supply"
                ],
                correctAnswer: 2,
                explanation: "The balance between regeneration and repair is influenced by cell type, injury severity, and stromal framework integrity.",
                memoryTip: "Regeneration vs. Repair depends on: Cell type + Injury severity + Stromal framework"
            },
            {
                id: 4,
                question: "Which type of cells have continuous turnover by programmed division of stem cells?",
                options: [
                    "Permanent cells",
                    "Stable cells",
                    "Labile cells",
                    "Fibroblasts"
                ],
                correctAnswer: 2,
                explanation: "Labile cells have continuous turnover by programmed division of stem cells and are found in surface epithelia of the GI tract, urinary tract, skin, and hematopoietic systems.",
                memoryTip: "Labile cells = continuous division (skin, GI tract, bone marrow)"
            },
            {
                id: 5,
                question: "Which of the following are examples of permanent cells?",
                options: [
                    "Hepatocytes and renal tubular cells",
                    "Skin epithelial cells and GI tract lining",
                    "Adult neurons and striated muscle cells",
                    "Fibroblasts and endothelial cells"
                ],
                correctAnswer: 2,
                explanation: "Permanent cells are non-dividing cells that cannot be replaced if lost, including adult neurons, striated muscle cells, and lens cells.",
                memoryTip: "Permanent cells = neurons, cardiac muscle, skeletal muscle - cannot regenerate"
            },
            {
                id: 6,
                question: "What is a key requirement for regeneration to occur?",
                options: [
                    "Complete destruction of the stromal framework",
                    "Presence of significant inflammation",
                    "Mitotic ability of residual cells",
                    "Formation of granulation tissue"
                ],
                correctAnswer: 2,
                explanation: "Regeneration requires that residual cells retain the ability to divide and proliferate, among other factors like preserved stromal integrity.",
                memoryTip: "Regeneration needs: 1. Mitotic ability 2. Intact stromal framework 3. Injury removal"
            },
            {
                id: 7,
                question: "During regeneration, what do basal keratinocytes do to restore epithelial continuity?",
                options: [
                    "Differentiate into fibroblasts",
                    "Flatten and slide forward while proliferating",
                    "Secrete collagen to form a matrix",
                    "Transform into myofibroblasts"
                ],
                correctAnswer: 1,
                explanation: "Basal keratinocytes flatten and slide forward while proliferating to restore epithelial continuity during regeneration.",
                memoryTip: "Keratinocytes flatten → slide → proliferate → restore epithelium"
            },
            {
                id: 8,
                question: "What characterizes the inflammatory phase of repair by scarring?",
                options: [
                    "Fibroblast proliferation and collagen deposition",
                    "Vasodilatation, neutrophil infiltration, and plasma protein delivery",
                    "Wound contraction and scar maturation",
                    "Angiogenesis and granulation tissue formation"
                ],
                correctAnswer: 1,
                explanation: "The inflammatory phase of repair begins with acute inflammation characterized by vasodilatation, neutrophil infiltration, and plasma protein delivery.",
                memoryTip: "Inflammatory phase = vasodilation + neutrophils + plasma proteins"
            },
            {
                id: 9,
                question: "What is the primary role of macrophages during the demolition phase of repair?",
                options: [
                    "Produce collagen for matrix formation",
                    "Stimulate angiogenesis",
                    "Debride dead cells and release cytokines",
                    "Contract the wound edges"
                ],
                correctAnswer: 2,
                explanation: "Macrophages arrive to debride dead cells and release cytokines that recruit fibroblasts and endothelial cells during the demolition phase.",
                memoryTip: "Macrophages = debris cleanup + cytokine release"
            },
            {
                id: 10,
                question: "When does angiogenesis typically begin after injury?",
                options: [
                    "Within the first 6 hours",
                    "48 to 72 hours after injury",
                    "1 week after injury",
                    "During the remodeling phase"
                ],
                correctAnswer: 1,
                explanation: "Vascular proliferation (angiogenesis) starts 48 to 72 hours after injury and lasts for several days.",
                memoryTip: "Angiogenesis begins 2-3 days post-injury"
            },
            {
                id: 11,
                question: "What type of collagen is initially deposited in granulation tissue?",
                options: [
                    "Type I collagen",
                    "Type II collagen",
                    "Type III collagen",
                    "Type IV collagen"
                ],
                correctAnswer: 2,
                explanation: "Bright-red, moist granulation tissue is rich in type III collagen, fibronectin, and proteoglycans.",
                memoryTip: "Early granulation tissue = Type III collagen → later replaced by Type I"
            },
            {
                id: 12,
                question: "What happens during collagen remodeling in wound healing?",
                options: [
                    "Type I collagen is replaced by type III collagen",
                    "Collagen content decreases as healing progresses",
                    "Type III collagen is cross-linked and replaced by type I collagen",
                    "Collagen fibers randomly arrange without organization"
                ],
                correctAnswer: 2,
                explanation: "Over weeks, type III collagen is cross-linked and gradually replaced by stronger type I collagen during collagen remodeling.",
                memoryTip: "Collagen remodeling: Type III → Type I (stronger)"
            },
            {
                id: 13,
                question: "What cells are responsible for wound contraction?",
                options: [
                    "Fibroblasts",
                    "Myofibroblasts",
                    "Keratinocytes",
                    "Macrophages"
                ],
                correctAnswer: 1,
                explanation: "Contraction is due to myofibroblasts, which have features intermediate between fibroblasts and smooth muscle cells.",
                memoryTip: "Myofibroblasts = wound contraction"
            },
            {
                id: 14,
                question: "How much can wound contraction reduce the size of a defect?",
                options: [
                    "10-20% of its original size",
                    "30-40% of its original size",
                    "50-60% of its original size",
                    "70-80% of its original size"
                ],
                correctAnswer: 3,
                explanation: "Wound contraction can reduce the wound by approximately 70-80% of its original size, resulting in faster healing.",
                memoryTip: "Wound contraction reduces defect by 70-80%"
            },
            {
                id: 15,
                question: "Which type of healing occurs in clean surgical incisions with approximated edges?",
                options: [
                    "Healing by second intention",
                    "Healing by primary union",
                    "Healing by tertiary intention",
                    "Healing by regeneration only"
                ],
                correctAnswer: 1,
                explanation: "Healing by first intention (primary union) occurs in clean surgical incisions with approximated edges.",
                memoryTip: "Primary intention = clean surgical wounds with approximated edges"
            },
            {
                id: 16,
                question: "What is a key difference between primary and secondary intention healing?",
                options: [
                    "Primary intention involves more granulation tissue",
                    "Secondary intention has minimal inflammation",
                    "Primary intention results in a narrower scar",
                    "Secondary intention involves no wound contraction"
                ],
                correctAnswer: 2,
                explanation: "Healing by primary intention results in a narrow scar with little cosmetic or functional impairment, unlike secondary intention.",
                memoryTip: "Primary intention = narrow scar; Secondary intention = wider scar"
            },
            {
                id: 17,
                question: "Which growth factor is primarily responsible for driving angiogenesis?",
                options: [
                    "PDGF (Platelet-Derived Growth Factor)",
                    "TGF-β (Transforming Growth Factor-Beta)",
                    "VEGF (Vascular Endothelial Growth Factor)",
                    "EGF (Epidermal Growth Factor)"
                ],
                correctAnswer: 2,
                explanation: "VEGF drives angiogenesis, which is essential for new blood vessel formation during healing.",
                memoryTip: "VEGF = Vascular Endothelial Growth Factor = angiogenesis"
            },
            {
                id: 18,
                question: "What is the role of TGF-β in the later stages of healing?",
                options: [
                    "Stimulates further fibroblast proliferation",
                    "Promotes epithelial migration",
                    "Switches to an inhibitory role for epithelial and endothelial cells",
                    "Enhances collagen degradation"
                ],
                correctAnswer: 2,
                explanation: "When tissue integrity is restored, TGF-β switches to an inhibitory role for epithelial and endothelial cells, helping to stop the healing process.",
                memoryTip: "TGF-β = dual role: stimulates early, inhibits late"
            },
            {
                id: 19,
                question: "Which local factor significantly delays wound healing by prolonging inflammation and releasing collagenases?",
                options: [
                    "Adequate vascular supply",
                    "Infection",
                    "Immobilization of the wound",
                    "Clean wound edges"
                ],
                correctAnswer: 1,
                explanation: "Bacterial contamination prolongs inflammation, diverts energy to immune defense, and releases collagenases that degrade matrix.",
                memoryTip: "Infection = prolonged inflammation + collagenase release"
            },
            {
                id: 20,
                question: "How does impaired vascular supply affect wound healing?",
                options: [
                    "Accelerates collagen synthesis",
                    "Has no significant effect on healing",
                    "Leads to slow healing and weak scars",
                    "Promotes excessive granulation tissue formation"
                ],
                correctAnswer: 2,
                explanation: "Wounds with impaired blood supply heal slowly, and ischemia can produce pressure sores and prevent proper healing.",
                memoryTip: "Poor blood supply = slow healing + weak scars"
            },
            {
                id: 21,
                question: "Which vitamin deficiency specifically impairs collagen synthesis by affecting proline and lysine hydroxylation?",
                options: [
                    "Vitamin A deficiency",
                    "Vitamin B12 deficiency",
                    "Vitamin C deficiency",
                    "Vitamin D deficiency"
                ],
                correctAnswer: 2,
                explanation: "Vitamin C is required for hydroxylation of proline and lysine in collagen synthesis; deficiency results in impaired wound healing.",
                memoryTip: "Vitamin C needed for collagen hydroxylation → scurvy = poor healing"
            },
            {
                id: 22,
                question: "How do corticosteroids affect wound healing?",
                options: [
                    "Accelerate collagen synthesis and epithelialization",
                    "Have no significant effect on healing processes",
                    "Impair healing by inhibiting collagen synthesis and fibroplasia",
                    "Promote angiogenesis and granulation tissue formation"
                ],
                correctAnswer: 2,
                explanation: "Corticosteroids impair wound healing by inhibiting collagen synthesis, fibroplasia, neovascularization, epithelialization, and contraction.",
                memoryTip: "Corticosteroids = impaired healing (anti-inflammatory + anti-fibroplastic)"
            },
            {
                id: 23,
                question: "What is wound dehiscence?",
                options: [
                    "Excessive scar formation beyond wound margins",
                    "Formation of an epidermoid cyst in a healing wound",
                    "Bursting open of a wound due to weak scar formation",
                    "Exaggerated wound contraction causing deformity"
                ],
                correctAnswer: 2,
                explanation: "Dehiscence occurs when insufficient extracellular matrix is deposited or there is inadequate cross-linking, resulting in weak scars that can burst open.",
                memoryTip: "Dehiscence = wound bursting open"
            },
            {
                id: 24,
                question: "What distinguishes a keloid from a hypertrophic scar?",
                options: [
                    "Keloids remain confined to wound borders",
                    "Hypertrophic scars extend beyond original margins",
                    "Keloids extend beyond original margins and invade adjacent dermis",
                    "Hypertrophic scars recur after excision"
                ],
                correctAnswer: 2,
                explanation: "Keloids are characterized by excessive collagenous tissue that extends beyond original margins, invades adjacent dermis, and recurs after excision.",
                memoryTip: "Keloid = grows beyond borders; Hypertrophic scar = stays within borders"
            },
            {
                id: 25,
                question: "What causes contractures in wound healing?",
                options: [
                    "Excessive collagen deposition without organization",
                    "Inadequate granulation tissue formation",
                    "Exaggeration of wound contraction processes",
                    "Infection and persistent inflammation"
                ],
                correctAnswer: 2,
                explanation: "Contractures result from an exaggeration of wound contraction processes, causing severe deformity of the wound and surrounding tissues.",
                memoryTip: "Contracture = excessive contraction → deformity"
            },
            {
                id: 26,
                question: "Which condition is characterized by palmar contracture?",
                options: [
                    "Peyronie disease",
                    "Dupuytren disease",
                    "Lederhosen disease",
                    "Keloid disorder"
                ],
                correctAnswer: 1,
                explanation: "Dupuytren disease is characterized by palmar contracture, while Peyronie disease affects the penis and Lederhosen disease affects the plantar fascia.",
                memoryTip: "Dupuytren = palmar contracture"
            },
            {
                id: 27,
                question: "What is 'proud flesh' in the context of wound healing?",
                options: [
                    "Excessive collagen deposition in a scar",
                    "Epithelial cells that form a cyst in the wound",
                    "Exuberant granulation tissue that protrudes from the wound",
                    "Necrotic tissue that impedes healing"
                ],
                correctAnswer: 2,
                explanation: "'Proud flesh' refers to exuberant granulation tissue that protrudes above the wound surface, impeding re-epithelialization.",
                memoryTip: "Proud flesh = excessive granulation tissue"
            },
            {
                id: 28,
                question: "What are the two histological types of bone?",
                options: [
                    "Cortical and cancellous bone",
                    "Woven and lamellar bone",
                    "Compact and spongy bone",
                    "Trabecular and Haversian bone"
                ],
                correctAnswer: 1,
                explanation: "Bone has two histological types: woven (immature) bone with irregular collagen arrangement, and lamellar (adult) bone with parallel collagen sheets.",
                memoryTip: "Bone types: Woven (immature) and Lamellar (mature)"
            },
            {
                id: 29,
                question: "Which type of bone has higher mineral content and superior strength?",
                options: [
                    "Woven bone",
                    "Lamellar bone",
                    "Both have similar strength",
                    "It depends on the location in the body"
                ],
                correctAnswer: 1,
                explanation: "Lamellar bone has high mineral content and superior strength compared to woven bone, which has less calcium and is relatively weak.",
                memoryTip: "Lamellar bone > Woven bone in strength"
            },
            {
                id: 30,
                question: "What is the first stage of fracture healing?",
                options: [
                    "Inflammation",
                    "Formation of granulation tissue",
                    "Haematoma formation",
                    "Callus development"
                ],
                correctAnswer: 2,
                explanation: "The first stage of fracture healing is haematoma formation, where bleeding from torn vessels forms a clot that stabilizes the injury site.",
                memoryTip: "Fracture healing starts with hematoma formation"
            },
            {
                id: 31,
                question: "During fracture healing, what is the role of platelets in the haematoma?",
                options: [
                    "Phagocytose dead cells and debris",
                    "Form the initial soft callus",
                    "Release growth factors and cytokines",
                    "Differentiate into osteoblasts"
                ],
                correctAnswer: 2,
                explanation: "Platelets in the clot release growth factors and cytokines that attract immune cells and initiate the inflammatory phase of fracture healing.",
                memoryTip: "Platelets release growth factors in fracture healing"
            },
            {
                id: 32,
                question: "When do neutrophils typically migrate to a fracture site?",
                options: [
                    "Within hours of injury",
                    "3-5 days after injury",
                    "1 week after injury",
                    "During the remodeling phase"
                ],
                correctAnswer: 0,
                explanation: "Neutrophils migrate to the fracture site within hours of injury, clearing debris and bacteria.",
                memoryTip: "Neutrophils = first responders (hours)"
            },
            {
                id: 33,
                question: "What is formed during the callus development stage of fracture healing?",
                options: [
                    "A fibrin clot that stabilizes the fracture",
                    "Granulation tissue with type III collagen",
                    "Woven bone and cartilage that unites fracture ends",
                    "Lamellar bone with Haversian systems"
                ],
                correctAnswer: 2,
                explanation: "During callus development, mesenchymal cells differentiate to form either woven bone or cartilage, creating a callus that unites the fracture ends.",
                memoryTip: "Callus = woven bone + cartilage → unites fracture"
            },
            {
                id: 34,
                question: "How long does the remodeling phase of fracture healing typically take?",
                options: [
                    "Days to weeks",
                    "Weeks to months",
                    "Months to years",
                    "It is complete within 6 weeks"
                ],
                correctAnswer: 2,
                explanation: "The remodeling phase of fracture healing can take months to years as osteoclasts resorb woven bone and osteoblasts lay down lamellar bone along stress lines.",
                memoryTip: "Bone remodeling = months to years"
            },
            {
                id: 35,
                question: "Which growth factors drive osteoblastic differentiation in fracture healing?",
                options: [
                    "VEGF and EGF",
                    "PDGF and TGF-β",
                    "BMPs and TGF-β",
                    "FGF and IGF"
                ],
                correctAnswer: 2,
                explanation: "Bone Morphogenetic Proteins (BMPs) and Transforming Growth Factor-Beta (TGF-β) drive osteoblastic differentiation, promoting new bone formation.",
                memoryTip: "BMPs + TGF-β = osteoblast differentiation"
            },
            {
                id: 36,
                question: "What characterizes atrophic non-union in fracture healing?",
                options: [
                    "Abundant callus that fails to fuse",
                    "Scant callus formation",
                    "Proper alignment but delayed healing",
                    "Infection at the fracture site"
                ],
                correctAnswer: 1,
                explanation: "Atrophic non-union shows scant callus due to poor blood supply or biological factors. Hypertrophic non-union has abundant callus that fails to unite due to mechanical instability.",
                memoryTip: "Atrophic non-union = little callus; Hypertrophic = much callus but no union"
            },
            {
                id: 37,
                question: "What is malunion in fracture healing?",
                options: [
                    "Delayed healing due to infection",
                    "Failure of the fracture to heal",
                    "Healing with improper alignment",
                    "Refracture at the same site"
                ],
                correctAnswer: 2,
                explanation: "Malunion occurs due to improper alignment during healing, leading to angulation, rotation, or shortening of the bone.",
                memoryTip: "Malunion = healed in wrong position"
            },
            {
                id: 38,
                question: "Which factor does NOT typically delay fracture healing?",
                options: [
                    "Adequate blood supply",
                    "Infection",
                    "Excessive motion",
                    "Smoking"
                ],
                correctAnswer: 0,
                explanation: "Inadequate blood supply, infection, smoking, NSAIDs, and excessive motion can delay or prevent fracture union, while adequate blood supply promotes healing.",
                memoryTip: "Good blood supply promotes fracture healing"
            },
            {
                id: 39,
                question: "What is a key difference between soft tissue repair and bone healing?",
                options: [
                    "Bone healing always results in scar tissue formation",
                    "Soft tissue repair can restore pre-injury architecture",
                    "Bone can regain pre-injury strength without permanent scar tissue",
                    "Soft tissue healing is always faster than bone healing"
                ],
                correctAnswer: 2,
                explanation: "Unlike soft-tissue repair, bone can regain pre-injury strength and architecture without permanent scar tissue under favorable circumstances.",
                memoryTip: "Bone can heal without scar tissue; soft tissue cannot"
            },
            {
                id: 40,
                question: "Which cells are responsible for bone resorption during remodeling?",
                options: [
                    "Osteoblasts",
                    "Osteocytes",
                    "Osteoclasts",
                    "Chondrocytes"
                ],
                correctAnswer: 2,
                explanation: "Osteoclasts are responsible for bone resorption during the remodeling phase of fracture healing, while osteoblasts lay down new bone.",
                memoryTip: "Osteoclasts = bone breakdown; Osteoblasts = bone formation"
            },
            {
                id: 41,
                question: "What provides the initial stability in a fracture before callus formation?",
                options: [
                    "The periosteum",
                    "The haematoma",
                    "Muscle contractions",
                    "External fixation only"
                ],
                correctAnswer: 1,
                explanation: "The haematoma formed immediately after fracture provides initial stability and a scaffold for inflammatory cells before callus formation.",
                memoryTip: "Hematoma provides initial fracture stability"
            },
            {
                id: 42,
                question: "During which stage of fracture healing does angiogenesis peak?",
                options: [
                    "Haematoma formation",
                    "Inflammation",
                    "Granulation tissue formation",
                    "Remodeling"
                ],
                correctAnswer: 2,
                explanation: "Angiogenesis peaks during the granulation tissue formation stage, providing oxygen and nutrients necessary for cell proliferation and matrix synthesis.",
                memoryTip: "Angiogenesis peaks during granulation tissue formation"
            },
            {
                id: 43,
                question: "What is the primary source of osteoprogenitor cells in fracture healing?",
                options: [
                    "Circulating blood cells",
                    "The haematoma",
                    "Periosteum and endosteum",
                    "Adjacent muscle tissue"
                ],
                correctAnswer: 2,
                explanation: "The periosteum and endosteum contribute osteoprogenitors during fracture healing, which differentiate into osteoblasts for bone formation.",
                memoryTip: "Osteoprogenitors from periosteum and endosteum"
            },
            {
                id: 44,
                question: "Which factor is most critical for proper fracture healing?",
                options: [
                    "Complete immobilization throughout healing",
                    "Adequate stability and blood supply",
                    "High doses of corticosteroids",
                    "Immediate weight-bearing"
                ],
                correctAnswer: 1,
                explanation: "Adequate stability (to allow proper callus formation) and blood supply (to deliver nutrients and cells) are critical for proper fracture healing.",
                memoryTip: "Fracture healing needs: Stability + Blood supply"
            },
            {
                id: 45,
                question: "What happens during the formation of lamellar bone in fracture healing?",
                options: [
                    "Random deposition of collagen fibers",
                    "Formation of cartilage intermediate",
                    "Invasion of initial scaffolding by osteoclasts followed by osteoblast activity",
                    "Direct transformation of haematoma into bone"
                ],
                correctAnswer: 2,
                explanation: "During lamellar bone formation, the initial scaffolding (woven bone or calcified cartilage) is invaded by osteoclasts, followed by osteoblasts laying down osteoid that calcifies to form lamellar bone.",
                memoryTip: "Lamellar bone formation: Osteoclasts remove old → Osteoblasts build new"
            }
        ];

        // DOM elements
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const currentScoreElement = document.getElementById('current-score');
        const progressBar = document.getElementById('progress-bar');
        const questionNumberElement = document.getElementById('q-number');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const explanationContainer = document.getElementById('explanation-container');
        const explanationTextElement = document.getElementById('explanation-text');
        const memoryTipElement = document.getElementById('memory-tip');
        const prevButton = document.getElementById('prev-btn');
        const nextButton = document.getElementById('next-btn');
        const submitButton = document.getElementById('submit-btn');
        const resultsContainer = document.getElementById('results-container');
        const scoreCircle = document.getElementById('score-circle');
        const scorePercentageElement = document.getElementById('score-percentage');
        const scoreTextElement = document.getElementById('score-text');
        const totalScoreElement = document.getElementById('total-score');
        const correctCountElement = document.getElementById('correct-count');
        const incorrectCountElement = document.getElementById('incorrect-count');
        const unansweredCountElement = document.getElementById('unanswered-count');
        const accuracyElement = document.getElementById('accuracy');
        const reviewButton = document.getElementById('review-btn');
        const restartButton = document.getElementById('restart-btn');
        const reviewContainer = document.getElementById('review-container');
        const reviewQuestionsElement = document.getElementById('review-questions');
        const backToResultsButton = document.getElementById('back-to-results');

        // Quiz state
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let userCorrect = new Array(questions.length).fill(false);
        let quizCompleted = false;

        // Shuffle function for array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Initialize quiz
        function initQuiz() {
            totalQuestionsElement.textContent = questions.length;
            totalScoreElement.textContent = questions.length;
            
            // Shuffle questions and options
            shuffleArray(questions);
            questions.forEach(question => {
                // Store the correct answer before shuffling
                const correctAnswer = question.correctAnswer;
                // Shuffle all options
                question.options = shuffleArray(question.options);
                // Update the correct answer index after shuffling
                question.correctAnswer = question.options.indexOf(question.options.find((opt, idx) => 
                    idx === correctAnswer
                ));
            });
            
            displayQuestion();
            
            // Event listeners
            prevButton.addEventListener('click', goToPreviousQuestion);
            nextButton.addEventListener('click', goToNextQuestion);
            submitButton.addEventListener('click', submitQuiz);
            reviewButton.addEventListener('click', showReview);
            restartButton.addEventListener('click', restartQuiz);
            backToResultsButton.addEventListener('click', showResults);
        }

        // Display current question
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            
            questionNumberElement.textContent = currentQuestionIndex + 1;
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            questionTextElement.textContent = question.question;
            
            // Update progress bar
            progressBar.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            // Update current score
            const currentScore = userCorrect.filter(correct => correct).length;
            currentScoreElement.textContent = currentScore;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                const optionLetter = document.createElement('div');
                optionLetter.className = 'option-letter';
                optionLetter.textContent = String.fromCharCode(65 + index);
                
                const optionText = document.createElement('div');
                optionText.textContent = option;
                
                optionElement.appendChild(optionLetter);
                optionElement.appendChild(optionText);
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation initially
            explanationContainer.style.display = 'none';
            
            // Update navigation buttons
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.style.display = currentQuestionIndex === questions.length - 1 ? 'none' : 'inline-block';
            submitButton.style.display = currentQuestionIndex === questions.length - 1 ? 'inline-block' : 'none';
        }

        // Select an option
        function selectOption(optionIndex) {
            if (quizCompleted) return;
            
            userAnswers[currentQuestionIndex] = optionIndex;
            
            // Check if answer is correct
            const question = questions[currentQuestionIndex];
            const isCorrect = optionIndex === question.correctAnswer;
            userCorrect[currentQuestionIndex] = isCorrect;
            
            // Update UI to show selected option
            const options = document.querySelectorAll('.option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    if (isCorrect) {
                        opt.classList.add('correct');
                    } else {
                        opt.classList.add('incorrect');
                    }
                }
                if (idx === question.correctAnswer) {
                    opt.classList.add('correct');
                }
            });
            
            // Show explanation
            showExplanation();
        }

        // Show explanation for current question
        function showExplanation() {
            const question = questions[currentQuestionIndex];
            
            explanationTextElement.textContent = question.explanation;
            memoryTipElement.textContent = question.memoryTip;
            explanationContainer.style.display = 'block';
        }

        // Navigate to previous question
        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        // Navigate to next question
        function goToNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        // Submit the quiz
        function submitQuiz() {
            quizCompleted = true;
            
            // Calculate score
            const correctCount = userCorrect.filter(correct => correct).length;
            const incorrectCount = userAnswers.filter((answer, index) => 
                answer !== null && !userCorrect[index]
            ).length;
            const unansweredCount = userAnswers.filter(answer => answer === null).length;
            
            const scorePercentage = Math.round((correctCount / questions.length) * 100);
            const accuracy = userAnswers.filter(answer => answer !== null).length > 0 
                ? Math.round((correctCount / (userAnswers.filter(answer => answer !== null).length)) * 100) 
                : 0;
            
            // Update results UI
            scoreCircle.style.background = `conic-gradient(var(--success) 0% ${scorePercentage}%, var(--light) ${scorePercentage}% 100%)`;
            scorePercentageElement.textContent = `${scorePercentage}%`;
            scoreTextElement.textContent = correctCount;
            correctCountElement.textContent = correctCount;
            incorrectCountElement.textContent = incorrectCount;
            unansweredCountElement.textContent = unansweredCount;
            accuracyElement.textContent = `${accuracy}%`;
            
            // Hide quiz, show results
            document.getElementById('quiz-container').style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        // Show question review
        function showReview() {
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'block';
            
            // Clear previous review
            reviewQuestionsElement.innerHTML = '';
            
            // Add review items
            questions.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'review-item';
                
                const userAnswerIndex = userAnswers[index];
                const userAnswer = userAnswerIndex !== null ? question.options[userAnswerIndex] : 'Not answered';
                const isCorrect = userCorrect[index];
                const correctAnswer = question.options[question.correctAnswer];
                
                reviewItem.innerHTML = `
                    <div class="review-question">${index + 1}. ${question.question}</div>
                    <div class="review-answer">
                        Your answer: <span class="user-answer ${isCorrect ? 'correct' : 'incorrect'}">${userAnswer}</span>
                    </div>
                    <div class="review-answer correct-answer">
                        Correct answer: ${correctAnswer}
                    </div>
                    <div class="review-answer">
                        <strong>Explanation:</strong> ${question.explanation}
                    </div>
                    <div class="memory-tip">
                        <div class="memory-tip-title">Memory Tip:</div>
                        ${question.memoryTip}
                    </div>
                `;
                
                reviewQuestionsElement.appendChild(reviewItem);
            });
        }

        // Show results after review
        function showResults() {
            reviewContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        // Restart the quiz
        function restartQuiz() {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            userCorrect = new Array(questions.length).fill(false);
            quizCompleted = false;
            
            // Shuffle questions and options again
            shuffleArray(questions);
            questions.forEach(question => {
                // Store the correct answer before shuffling
                const correctAnswer = question.correctAnswer;
                // Shuffle all options
                question.options = shuffleArray(question.options);
                // Update the correct answer index after shuffling
                question.correctAnswer = question.options.indexOf(question.options.find((opt, idx) => 
                    idx === correctAnswer
                ));
            });
            
            // Reset UI
            document.getElementById('quiz-container').style.display = 'block';
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'none';
            
            // Display first question
            displayQuestion();
        }

        // Initialize the quiz when the page loads
        window.addEventListener('load', initQuiz);
    </script>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healing, Repair & Regeneration Quiz</title>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --light: #ecf0f1;
            --dark: #34495e;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .quiz-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .progress-container {
            background-color: var(--light);
            border-radius: 10px;
            height: 15px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .question-container {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .question-number {
            color: var(--primary);
            font-weight: bold;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 25px;
            font-weight: 600;
            line-height: 1.5;
        }
        
        .options-container {
            display: grid;
            gap: 12px;
        }
        
        .option {
            background-color: var(--light);
            padding: 15px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid transparent;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #d6dbdf;
            transform: translateY(-2px);
        }
        
        .option.selected {
            border-color: var(--primary);
            background-color: #e1f0fa;
        }
        
        .option.correct {
            border-color: var(--success);
            background-color: #d4efdf;
        }
        
        .option.incorrect {
            border-color: var(--danger);
            background-color: #fadbd8;
        }
        
        .option-letter {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background-color: #bdc3c7;
            border-radius: 50%;
            margin-right: 15px;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }
        
        .selected .option-letter, .correct .option-letter, .incorrect .option-letter {
            background-color: rgba(255, 255, 255, 0.3);
        }
        
        .explanation-container {
            background-color: #f9f9f9;
            border-radius: 10px;
            padding: 20px;
            margin-top: 25px;
            display: none;
            border-left: 5px solid var(--primary);
        }
        
        .explanation-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary);
            font-size: 1.1rem;
        }
        
        .memory-tip {
            background-color: #fff9e6;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--warning);
        }
        
        .memory-tip-title {
            font-weight: bold;
            color: var(--warning);
            margin-bottom: 5px;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background-color: var(--secondary);
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #1c2833;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #27ae60;
            transform: translateY(-2px);
        }
        
        .btn-danger {
            background-color: var(--danger);
            color: white;
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
        }
        
        .results-container {
            background-color: white;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            display: none;
        }
        
        .score-circle {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            margin: 0 auto 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            color: white;
            background: conic-gradient(var(--success) 0% 0%, var(--light) 0% 100%);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }
        
        .performance-summary {
            margin-top: 30px;
            text-align: left;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }
        
        .stat-label {
            font-weight: 600;
        }
        
        .stat-value {
            font-weight: bold;
        }
        
        .review-container {
            display: none;
            margin-top: 30px;
        }
        
        .review-item {
            background-color: white;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        
        .review-question {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .review-answer {
            margin-top: 5px;
            padding: 8px 0;
        }
        
        .correct-answer {
            color: var(--success);
            font-weight: 600;
        }
        
        .user-answer.correct {
            color: var(--success);
            font-weight: 600;
        }
        
        .user-answer.incorrect {
            color: var(--danger);
            font-weight: 600;
        }
        
        .section-title {
            margin: 30px 0 15px;
            color: var(--secondary);
            border-bottom: 2px solid var(--light);
            padding-bottom: 10px;
        }
        
        @media (max-width: 768px) {
            .quiz-info {
                flex-direction: column;
                gap: 15px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 10px;
            }
            
            button {
                width: 100%;
            }
            
            .question-text {
                font-size: 1.1rem;
            }
            
            .score-circle {
                width: 150px;
                height: 150px;
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Healing, Repair & Regeneration</h1>
            <p class="subtitle">Comprehensive Quiz for Medical Students</p>
        </header>
        
        <div class="quiz-info">
            <div>Questions: <span id="current-question">1</span>/<span id="total-questions">45</span></div>
            <div>Score: <span id="current-score">0</span>/45</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        
        <div id="quiz-container">
            <div class="question-container">
                <div class="question-number">Question <span id="q-number">1</span></div>
                <div class="question-text" id="question-text"></div>
                
                <div class="options-container" id="options-container">
                    <!-- Options will be inserted here by JavaScript -->
                </div>
                
                <div class="explanation-container" id="explanation-container">
                    <div class="explanation-title">Explanation:</div>
                    <div id="explanation-text"></div>
                    <div class="memory-tip">
                        <div class="memory-tip-title">Memory Tip:</div>
                        <div id="memory-tip"></div>
                    </div>
                </div>
                
                <div class="navigation">
                    <button id="prev-btn" class="btn-secondary">Previous Question</button>
                    <button id="next-btn" class="btn-primary">Next Question</button>
                    <button id="submit-btn" class="btn-success" style="display: none;">Submit Quiz</button>
                </div>
            </div>
        </div>
        
        <div class="results-container" id="results-container">
            <h2>Quiz Results</h2>
            <div class="score-circle" id="score-circle">
                <span id="score-percentage">0%</span>
            </div>
            <h3>Your Score: <span id="score-text">0</span>/<span id="total-score">45</span></h3>
            
            <div class="performance-summary">
                <h4 class="section-title">Performance Summary</h4>
                <div class="stat-row">
                    <span class="stat-label">Correct Answers:</span>
                    <span class="stat-value" id="correct-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Incorrect Answers:</span>
                    <span class="stat-value" id="incorrect-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Unanswered Questions:</span>
                    <span class="stat-value" id="unanswered-count">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Accuracy:</span>
                    <span class="stat-value" id="accuracy">0%</span>
                </div>
            </div>
            
            <div class="navigation" style="margin-top: 30px;">
                <button id="review-btn" class="btn-secondary">Review Questions</button>
                <button id="restart-btn" class="btn-primary">Restart Quiz</button>
            </div>
        </div>
        
        <div class="review-container" id="review-container">
            <h2>Question Review</h2>
            <div id="review-questions">
                <!-- Review items will be inserted here by JavaScript -->
            </div>
            <div class="navigation">
                <button id="back-to-results" class="btn-primary">Back to Results</button>
            </div>
        </div>
    </div>

    <script>
        // Quiz questions array
        const questions = [
            {
                id: 1,
                question: "What is the primary definition of healing in a pathological context?",
                options: [
                    "The process of inflammation following tissue injury",
                    "The body's process of replacing destroyed tissue with new, viable tissue",
                    "The formation of scar tissue to close a wound",
                    "The regeneration of specialized cells after damage"
                ],
                correctAnswer: 1,
                explanation: "Healing refers to the body's process of replacing destroyed tissue with new, viable tissue, restoring normal structure and function after injury.",
                memoryTip: "Healing = tissue replacement to restore structure and function"
            },
            {
                id: 2,
                question: "Which of the following represents the two distinct processes of healing?",
                options: [
                    "Inflammation and proliferation",
                    "Regeneration and repair",
                    "Hemostasis and remodeling",
                    "Granulation and contraction"
                ],
                correctAnswer: 1,
                explanation: "Healing occurs through two distinct processes: regeneration (replacement with similar tissue) and repair (replacement with scar tissue).",
                memoryTip: "Two healing modes: Regeneration (same tissue) and Repair (scar tissue)"
            },
            {
                id: 3,
                question: "What determines whether healing occurs through regeneration or repair?",
                options: [
                    "The patient's age and nutritional status",
                    "The type of injury and presence of infection",
                    "The cell type involved, injury severity, and stromal framework integrity",
                    "The location of the injury and blood supply"
                ],
                correctAnswer: 2,
                explanation: "The balance between regeneration and repair is influenced by cell type, injury severity, and stromal framework integrity.",
                memoryTip: "Regeneration vs. Repair depends on: Cell type + Injury severity + Stromal framework"
            },
            {
                id: 4,
                question: "Which type of cells have continuous turnover by programmed division of stem cells?",
                options: [
                    "Permanent cells",
                    "Stable cells",
                    "Labile cells",
                    "Fibroblasts"
                ],
                correctAnswer: 2,
                explanation: "Labile cells have continuous turnover by programmed division of stem cells and are found in surface epithelia of the GI tract, urinary tract, skin, and hematopoietic systems.",
                memoryTip: "Labile cells = continuous division (skin, GI tract, bone marrow)"
            },
            {
                id: 5,
                question: "Which of the following are examples of permanent cells?",
                options: [
                    "Hepatocytes and renal tubular cells",
                    "Skin epithelial cells and GI tract lining",
                    "Adult neurons and striated muscle cells",
                    "Fibroblasts and endothelial cells"
                ],
                correctAnswer: 2,
                explanation: "Permanent cells are non-dividing cells that cannot be replaced if lost, including adult neurons, striated muscle cells, and lens cells.",
                memoryTip: "Permanent cells = neurons, cardiac muscle, skeletal muscle - cannot regenerate"
            },
            {
                id: 6,
                question: "What is a key requirement for regeneration to occur?",
                options: [
                    "Complete destruction of the stromal framework",
                    "Presence of significant inflammation",
                    "Mitotic ability of residual cells",
                    "Formation of granulation tissue"
                ],
                correctAnswer: 2,
                explanation: "Regeneration requires that residual cells retain the ability to divide and proliferate, among other factors like preserved stromal integrity.",
                memoryTip: "Regeneration needs: 1. Mitotic ability 2. Intact stromal framework 3. Injury removal"
            },
            {
                id: 7,
                question: "During regeneration, what do basal keratinocytes do to restore epithelial continuity?",
                options: [
                    "Differentiate into fibroblasts",
                    "Flatten and slide forward while proliferating",
                    "Secrete collagen to form a matrix",
                    "Transform into myofibroblasts"
                ],
                correctAnswer: 1,
                explanation: "Basal keratinocytes flatten and slide forward while proliferating to restore epithelial continuity during regeneration.",
                memoryTip: "Keratinocytes flatten → slide → proliferate → restore epithelium"
            },
            {
                id: 8,
                question: "What characterizes the inflammatory phase of repair by scarring?",
                options: [
                    "Fibroblast proliferation and collagen deposition",
                    "Vasodilatation, neutrophil infiltration, and plasma protein delivery",
                    "Wound contraction and scar maturation",
                    "Angiogenesis and granulation tissue formation"
                ],
                correctAnswer: 1,
                explanation: "The inflammatory phase of repair begins with acute inflammation characterized by vasodilatation, neutrophil infiltration, and plasma protein delivery.",
                memoryTip: "Inflammatory phase = vasodilation + neutrophils + plasma proteins"
            },
            {
                id: 9,
                question: "What is the primary role of macrophages during the demolition phase of repair?",
                options: [
                    "Produce collagen for matrix formation",
                    "Stimulate angiogenesis",
                    "Debride dead cells and release cytokines",
                    "Contract the wound edges"
                ],
                correctAnswer: 2,
                explanation: "Macrophages arrive to debride dead cells and release cytokines that recruit fibroblasts and endothelial cells during the demolition phase.",
                memoryTip: "Macrophages = debris cleanup + cytokine release"
            },
            {
                id: 10,
                question: "When does angiogenesis typically begin after injury?",
                options: [
                    "Within the first 6 hours",
                    "48 to 72 hours after injury",
                    "1 week after injury",
                    "During the remodeling phase"
                ],
                correctAnswer: 1,
                explanation: "Vascular proliferation (angiogenesis) starts 48 to 72 hours after injury and lasts for several days.",
                memoryTip: "Angiogenesis begins 2-3 days post-injury"
            },
            {
                id: 11,
                question: "What type of collagen is initially deposited in granulation tissue?",
                options: [
                    "Type I collagen",
                    "Type II collagen",
                    "Type III collagen",
                    "Type IV collagen"
                ],
                correctAnswer: 2,
                explanation: "Bright-red, moist granulation tissue is rich in type III collagen, fibronectin, and proteoglycans.",
                memoryTip: "Early granulation tissue = Type III collagen → later replaced by Type I"
            },
            {
                id: 12,
                question: "What happens during collagen remodeling in wound healing?",
                options: [
                    "Type I collagen is replaced by type III collagen",
                    "Collagen content decreases as healing progresses",
                    "Type III collagen is cross-linked and replaced by type I collagen",
                    "Collagen fibers randomly arrange without organization"
                ],
                correctAnswer: 2,
                explanation: "Over weeks, type III collagen is cross-linked and gradually replaced by stronger type I collagen during collagen remodeling.",
                memoryTip: "Collagen remodeling: Type III → Type I (stronger)"
            },
            {
                id: 13,
                question: "What cells are responsible for wound contraction?",
                options: [
                    "Fibroblasts",
                    "Myofibroblasts",
                    "Keratinocytes",
                    "Macrophages"
                ],
                correctAnswer: 1,
                explanation: "Contraction is due to myofibroblasts, which have features intermediate between fibroblasts and smooth muscle cells.",
                memoryTip: "Myofibroblasts = wound contraction"
            },
            {
                id: 14,
                question: "How much can wound contraction reduce the size of a defect?",
                options: [
                    "10-20% of its original size",
                    "30-40% of its original size",
                    "50-60% of its original size",
                    "70-80% of its original size"
                ],
                correctAnswer: 3,
                explanation: "Wound contraction can reduce the wound by approximately 70-80% of its original size, resulting in faster healing.",
                memoryTip: "Wound contraction reduces defect by 70-80%"
            },
            {
                id: 15,
                question: "Which type of healing occurs in clean surgical incisions with approximated edges?",
                options: [
                    "Healing by second intention",
                    "Healing by primary union",
                    "Healing by tertiary intention",
                    "Healing by regeneration only"
                ],
                correctAnswer: 1,
                explanation: "Healing by first intention (primary union) occurs in clean surgical incisions with approximated edges.",
                memoryTip: "Primary intention = clean surgical wounds with approximated edges"
            },
            {
                id: 16,
                question: "What is a key difference between primary and secondary intention healing?",
                options: [
                    "Primary intention involves more granulation tissue",
                    "Secondary intention has minimal inflammation",
                    "Primary intention results in a narrower scar",
                    "Secondary intention involves no wound contraction"
                ],
                correctAnswer: 2,
                explanation: "Healing by primary intention results in a narrow scar with little cosmetic or functional impairment, unlike secondary intention.",
                memoryTip: "Primary intention = narrow scar; Secondary intention = wider scar"
            },
            {
                id: 17,
                question: "Which growth factor is primarily responsible for driving angiogenesis?",
                options: [
                    "PDGF (Platelet-Derived Growth Factor)",
                    "TGF-β (Transforming Growth Factor-Beta)",
                    "VEGF (Vascular Endothelial Growth Factor)",
                    "EGF (Epidermal Growth Factor)"
                ],
                correctAnswer: 2,
                explanation: "VEGF drives angiogenesis, which is essential for new blood vessel formation during healing.",
                memoryTip: "VEGF = Vascular Endothelial Growth Factor = angiogenesis"
            },
            {
                id: 18,
                question: "What is the role of TGF-β in the later stages of healing?",
                options: [
                    "Stimulates further fibroblast proliferation",
                    "Promotes epithelial migration",
                    "Switches to an inhibitory role for epithelial and endothelial cells",
                    "Enhances collagen degradation"
                ],
                correctAnswer: 2,
                explanation: "When tissue integrity is restored, TGF-β switches to an inhibitory role for epithelial and endothelial cells, helping to stop the healing process.",
                memoryTip: "TGF-β = dual role: stimulates early, inhibits late"
            },
            {
                id: 19,
                question: "Which local factor significantly delays wound healing by prolonging inflammation and releasing collagenases?",
                options: [
                    "Adequate vascular supply",
                    "Infection",
                    "Immobilization of the wound",
                    "Clean wound edges"
                ],
                correctAnswer: 1,
                explanation: "Bacterial contamination prolongs inflammation, diverts energy to immune defense, and releases collagenases that degrade matrix.",
                memoryTip: "Infection = prolonged inflammation + collagenase release"
            },
            {
                id: 20,
                question: "How does impaired vascular supply affect wound healing?",
                options: [
                    "Accelerates collagen synthesis",
                    "Has no significant effect on healing",
                    "Leads to slow healing and weak scars",
                    "Promotes excessive granulation tissue formation"
                ],
                correctAnswer: 2,
                explanation: "Wounds with impaired blood supply heal slowly, and ischemia can produce pressure sores and prevent proper healing.",
                memoryTip: "Poor blood supply = slow healing + weak scars"
            },
            {
                id: 21,
                question: "Which vitamin deficiency specifically impairs collagen synthesis by affecting proline and lysine hydroxylation?",
                options: [
                    "Vitamin A deficiency",
                    "Vitamin B12 deficiency",
                    "Vitamin C deficiency",
                    "Vitamin D deficiency"
                ],
                correctAnswer: 2,
                explanation: "Vitamin C is required for hydroxylation of proline and lysine in collagen synthesis; deficiency results in impaired wound healing.",
                memoryTip: "Vitamin C needed for collagen hydroxylation → scurvy = poor healing"
            },
            {
                id: 22,
                question: "How do corticosteroids affect wound healing?",
                options: [
                    "Accelerate collagen synthesis and epithelialization",
                    "Have no significant effect on healing processes",
                    "Impair healing by inhibiting collagen synthesis and fibroplasia",
                    "Promote angiogenesis and granulation tissue formation"
                ],
                correctAnswer: 2,
                explanation: "Corticosteroids impair wound healing by inhibiting collagen synthesis, fibroplasia, neovascularization, epithelialization, and contraction.",
                memoryTip: "Corticosteroids = impaired healing (anti-inflammatory + anti-fibroplastic)"
            },
            {
                id: 23,
                question: "What is wound dehiscence?",
                options: [
                    "Excessive scar formation beyond wound margins",
                    "Formation of an epidermoid cyst in a healing wound",
                    "Bursting open of a wound due to weak scar formation",
                    "Exaggerated wound contraction causing deformity"
                ],
                correctAnswer: 2,
                explanation: "Dehiscence occurs when insufficient extracellular matrix is deposited or there is inadequate cross-linking, resulting in weak scars that can burst open.",
                memoryTip: "Dehiscence = wound bursting open"
            },
            {
                id: 24,
                question: "What distinguishes a keloid from a hypertrophic scar?",
                options: [
                    "Keloids remain confined to wound borders",
                    "Hypertrophic scars extend beyond original margins",
                    "Keloids extend beyond original margins and invade adjacent dermis",
                    "Hypertrophic scars recur after excision"
                ],
                correctAnswer: 2,
                explanation: "Keloids are characterized by excessive collagenous tissue that extends beyond original margins, invades adjacent dermis, and recurs after excision.",
                memoryTip: "Keloid = grows beyond borders; Hypertrophic scar = stays within borders"
            },
            {
                id: 25,
                question: "What causes contractures in wound healing?",
                options: [
                    "Excessive collagen deposition without organization",
                    "Inadequate granulation tissue formation",
                    "Exaggeration of wound contraction processes",
                    "Infection and persistent inflammation"
                ],
                correctAnswer: 2,
                explanation: "Contractures result from an exaggeration of wound contraction processes, causing severe deformity of the wound and surrounding tissues.",
                memoryTip: "Contracture = excessive contraction → deformity"
            },
            {
                id: 26,
                question: "Which condition is characterized by palmar contracture?",
                options: [
                    "Peyronie disease",
                    "Dupuytren disease",
                    "Lederhosen disease",
                    "Keloid disorder"
                ],
                correctAnswer: 1,
                explanation: "Dupuytren disease is characterized by palmar contracture, while Peyronie disease affects the penis and Lederhosen disease affects the plantar fascia.",
                memoryTip: "Dupuytren = palmar contracture"
            },
            {
                id: 27,
                question: "What is 'proud flesh' in the context of wound healing?",
                options: [
                    "Excessive collagen deposition in a scar",
                    "Epithelial cells that form a cyst in the wound",
                    "Exuberant granulation tissue that protrudes from the wound",
                    "Necrotic tissue that impedes healing"
                ],
                correctAnswer: 2,
                explanation: "'Proud flesh' refers to exuberant granulation tissue that protrudes above the wound surface, impeding re-epithelialization.",
                memoryTip: "Proud flesh = excessive granulation tissue"
            },
            {
                id: 28,
                question: "What are the two histological types of bone?",
                options: [
                    "Cortical and cancellous bone",
                    "Woven and lamellar bone",
                    "Compact and spongy bone",
                    "Trabecular and Haversian bone"
                ],
                correctAnswer: 1,
                explanation: "Bone has two histological types: woven (immature) bone with irregular collagen arrangement, and lamellar (adult) bone with parallel collagen sheets.",
                memoryTip: "Bone types: Woven (immature) and Lamellar (mature)"
            },
            {
                id: 29,
                question: "Which type of bone has higher mineral content and superior strength?",
                options: [
                    "Woven bone",
                    "Lamellar bone",
                    "Both have similar strength",
                    "It depends on the location in the body"
                ],
                correctAnswer: 1,
                explanation: "Lamellar bone has high mineral content and superior strength compared to woven bone, which has less calcium and is relatively weak.",
                memoryTip: "Lamellar bone > Woven bone in strength"
            },
            {
                id: 30,
                question: "What is the first stage of fracture healing?",
                options: [
                    "Inflammation",
                    "Formation of granulation tissue",
                    "Haematoma formation",
                    "Callus development"
                ],
                correctAnswer: 2,
                explanation: "The first stage of fracture healing is haematoma formation, where bleeding from torn vessels forms a clot that stabilizes the injury site.",
                memoryTip: "Fracture healing starts with hematoma formation"
            },
            {
                id: 31,
                question: "During fracture healing, what is the role of platelets in the haematoma?",
                options: [
                    "Phagocytose dead cells and debris",
                    "Form the initial soft callus",
                    "Release growth factors and cytokines",
                    "Differentiate into osteoblasts"
                ],
                correctAnswer: 2,
                explanation: "Platelets in the clot release growth factors and cytokines that attract immune cells and initiate the inflammatory phase of fracture healing.",
                memoryTip: "Platelets release growth factors in fracture healing"
            },
            {
                id: 32,
                question: "When do neutrophils typically migrate to a fracture site?",
                options: [
                    "Within hours of injury",
                    "3-5 days after injury",
                    "1 week after injury",
                    "During the remodeling phase"
                ],
                correctAnswer: 0,
                explanation: "Neutrophils migrate to the fracture site within hours of injury, clearing debris and bacteria.",
                memoryTip: "Neutrophils = first responders (hours)"
            },
            {
                id: 33,
                question: "What is formed during the callus development stage of fracture healing?",
                options: [
                    "A fibrin clot that stabilizes the fracture",
                    "Granulation tissue with type III collagen",
                    "Woven bone and cartilage that unites fracture ends",
                    "Lamellar bone with Haversian systems"
                ],
                correctAnswer: 2,
                explanation: "During callus development, mesenchymal cells differentiate to form either woven bone or cartilage, creating a callus that unites the fracture ends.",
                memoryTip: "Callus = woven bone + cartilage → unites fracture"
            },
            {
                id: 34,
                question: "How long does the remodeling phase of fracture healing typically take?",
                options: [
                    "Days to weeks",
                    "Weeks to months",
                    "Months to years",
                    "It is complete within 6 weeks"
                ],
                correctAnswer: 2,
                explanation: "The remodeling phase of fracture healing can take months to years as osteoclasts resorb woven bone and osteoblasts lay down lamellar bone along stress lines.",
                memoryTip: "Bone remodeling = months to years"
            },
            {
                id: 35,
                question: "Which growth factors drive osteoblastic differentiation in fracture healing?",
                options: [
                    "VEGF and EGF",
                    "PDGF and TGF-β",
                    "BMPs and TGF-β",
                    "FGF and IGF"
                ],
                correctAnswer: 2,
                explanation: "Bone Morphogenetic Proteins (BMPs) and Transforming Growth Factor-Beta (TGF-β) drive osteoblastic differentiation, promoting new bone formation.",
                memoryTip: "BMPs + TGF-β = osteoblast differentiation"
            },
            {
                id: 36,
                question: "What characterizes atrophic non-union in fracture healing?",
                options: [
                    "Abundant callus that fails to fuse",
                    "Scant callus formation",
                    "Proper alignment but delayed healing",
                    "Infection at the fracture site"
                ],
                correctAnswer: 1,
                explanation: "Atrophic non-union shows scant callus due to poor blood supply or biological factors. Hypertrophic non-union has abundant callus that fails to unite due to mechanical instability.",
                memoryTip: "Atrophic non-union = little callus; Hypertrophic = much callus but no union"
            },
            {
                id: 37,
                question: "What is malunion in fracture healing?",
                options: [
                    "Delayed healing due to infection",
                    "Failure of the fracture to heal",
                    "Healing with improper alignment",
                    "Refracture at the same site"
                ],
                correctAnswer: 2,
                explanation: "Malunion occurs due to improper alignment during healing, leading to angulation, rotation, or shortening of the bone.",
                memoryTip: "Malunion = healed in wrong position"
            },
            {
                id: 38,
                question: "Which factor does NOT typically delay fracture healing?",
                options: [
                    "Adequate blood supply",
                    "Infection",
                    "Excessive motion",
                    "Smoking"
                ],
                correctAnswer: 0,
                explanation: "Inadequate blood supply, infection, smoking, NSAIDs, and excessive motion can delay or prevent fracture union, while adequate blood supply promotes healing.",
                memoryTip: "Good blood supply promotes fracture healing"
            },
            {
                id: 39,
                question: "What is a key difference between soft tissue repair and bone healing?",
                options: [
                    "Bone healing always results in scar tissue formation",
                    "Soft tissue repair can restore pre-injury architecture",
                    "Bone can regain pre-injury strength without permanent scar tissue",
                    "Soft tissue healing is always faster than bone healing"
                ],
                correctAnswer: 2,
                explanation: "Unlike soft-tissue repair, bone can regain pre-injury strength and architecture without permanent scar tissue under favorable circumstances.",
                memoryTip: "Bone can heal without scar tissue; soft tissue cannot"
            },
            {
                id: 40,
                question: "Which cells are responsible for bone resorption during remodeling?",
                options: [
                    "Osteoblasts",
                    "Osteocytes",
                    "Osteoclasts",
                    "Chondrocytes"
                ],
                correctAnswer: 2,
                explanation: "Osteoclasts are responsible for bone resorption during the remodeling phase of fracture healing, while osteoblasts lay down new bone.",
                memoryTip: "Osteoclasts = bone breakdown; Osteoblasts = bone formation"
            },
            {
                id: 41,
                question: "What provides the initial stability in a fracture before callus formation?",
                options: [
                    "The periosteum",
                    "The haematoma",
                    "Muscle contractions",
                    "External fixation only"
                ],
                correctAnswer: 1,
                explanation: "The haematoma formed immediately after fracture provides initial stability and a scaffold for inflammatory cells before callus formation.",
                memoryTip: "Hematoma provides initial fracture stability"
            },
            {
                id: 42,
                question: "During which stage of fracture healing does angiogenesis peak?",
                options: [
                    "Haematoma formation",
                    "Inflammation",
                    "Granulation tissue formation",
                    "Remodeling"
                ],
                correctAnswer: 2,
                explanation: "Angiogenesis peaks during the granulation tissue formation stage, providing oxygen and nutrients necessary for cell proliferation and matrix synthesis.",
                memoryTip: "Angiogenesis peaks during granulation tissue formation"
            },
            {
                id: 43,
                question: "What is the primary source of osteoprogenitor cells in fracture healing?",
                options: [
                    "Circulating blood cells",
                    "The haematoma",
                    "Periosteum and endosteum",
                    "Adjacent muscle tissue"
                ],
                correctAnswer: 2,
                explanation: "The periosteum and endosteum contribute osteoprogenitors during fracture healing, which differentiate into osteoblasts for bone formation.",
                memoryTip: "Osteoprogenitors from periosteum and endosteum"
            },
            {
                id: 44,
                question: "Which factor is most critical for proper fracture healing?",
                options: [
                    "Complete immobilization throughout healing",
                    "Adequate stability and blood supply",
                    "High doses of corticosteroids",
                    "Immediate weight-bearing"
                ],
                correctAnswer: 1,
                explanation: "Adequate stability (to allow proper callus formation) and blood supply (to deliver nutrients and cells) are critical for proper fracture healing.",
                memoryTip: "Fracture healing needs: Stability + Blood supply"
            },
            {
                id: 45,
                question: "What happens during the formation of lamellar bone in fracture healing?",
                options: [
                    "Random deposition of collagen fibers",
                    "Formation of cartilage intermediate",
                    "Invasion of initial scaffolding by osteoclasts followed by osteoblast activity",
                    "Direct transformation of haematoma into bone"
                ],
                correctAnswer: 2,
                explanation: "During lamellar bone formation, the initial scaffolding (woven bone or calcified cartilage) is invaded by osteoclasts, followed by osteoblasts laying down osteoid that calcifies to form lamellar bone.",
                memoryTip: "Lamellar bone formation: Osteoclasts remove old → Osteoblasts build new"
            }
        ];

        // DOM elements
        const currentQuestionElement = document.getElementById('current-question');
        const totalQuestionsElement = document.getElementById('total-questions');
        const currentScoreElement = document.getElementById('current-score');
        const progressBar = document.getElementById('progress-bar');
        const questionNumberElement = document.getElementById('q-number');
        const questionTextElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const explanationContainer = document.getElementById('explanation-container');
        const explanationTextElement = document.getElementById('explanation-text');
        const memoryTipElement = document.getElementById('memory-tip');
        const prevButton = document.getElementById('prev-btn');
        const nextButton = document.getElementById('next-btn');
        const submitButton = document.getElementById('submit-btn');
        const resultsContainer = document.getElementById('results-container');
        const scoreCircle = document.getElementById('score-circle');
        const scorePercentageElement = document.getElementById('score-percentage');
        const scoreTextElement = document.getElementById('score-text');
        const totalScoreElement = document.getElementById('total-score');
        const correctCountElement = document.getElementById('correct-count');
        const incorrectCountElement = document.getElementById('incorrect-count');
        const unansweredCountElement = document.getElementById('unanswered-count');
        const accuracyElement = document.getElementById('accuracy');
        const reviewButton = document.getElementById('review-btn');
        const restartButton = document.getElementById('restart-btn');
        const reviewContainer = document.getElementById('review-container');
        const reviewQuestionsElement = document.getElementById('review-questions');
        const backToResultsButton = document.getElementById('back-to-results');

        // Quiz state
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let userCorrect = new Array(questions.length).fill(false);
        let quizCompleted = false;

        // Shuffle function for array
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Initialize quiz
        function initQuiz() {
            totalQuestionsElement.textContent = questions.length;
            totalScoreElement.textContent = questions.length;
            
            // Shuffle questions and options
            shuffleArray(questions);
            questions.forEach(question => {
                // Store the correct answer before shuffling
                const correctAnswer = question.correctAnswer;
                // Shuffle all options
                question.options = shuffleArray(question.options);
                // Update the correct answer index after shuffling
                question.correctAnswer = question.options.indexOf(question.options.find((opt, idx) => 
                    idx === correctAnswer
                ));
            });
            
            displayQuestion();
            
            // Event listeners
            prevButton.addEventListener('click', goToPreviousQuestion);
            nextButton.addEventListener('click', goToNextQuestion);
            submitButton.addEventListener('click', submitQuiz);
            reviewButton.addEventListener('click', showReview);
            restartButton.addEventListener('click', restartQuiz);
            backToResultsButton.addEventListener('click', showResults);
        }

        // Display current question
        function displayQuestion() {
            const question = questions[currentQuestionIndex];
            
            questionNumberElement.textContent = currentQuestionIndex + 1;
            currentQuestionElement.textContent = currentQuestionIndex + 1;
            questionTextElement.textContent = question.question;
            
            // Update progress bar
            progressBar.style.width = `${((currentQuestionIndex + 1) / questions.length) * 100}%`;
            
            // Update current score
            const currentScore = userCorrect.filter(correct => correct).length;
            currentScoreElement.textContent = currentScore;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add new options
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                if (userAnswers[currentQuestionIndex] === index) {
                    optionElement.classList.add('selected');
                }
                
                const optionLetter = document.createElement('div');
                optionLetter.className = 'option-letter';
                optionLetter.textContent = String.fromCharCode(65 + index);
                
                const optionText = document.createElement('div');
                optionText.textContent = option;
                
                optionElement.appendChild(optionLetter);
                optionElement.appendChild(optionText);
                
                optionElement.addEventListener('click', () => selectOption(index));
                optionsContainer.appendChild(optionElement);
            });
            
            // Hide explanation initially
            explanationContainer.style.display = 'none';
            
            // Update navigation buttons
            prevButton.disabled = currentQuestionIndex === 0;
            nextButton.style.display = currentQuestionIndex === questions.length - 1 ? 'none' : 'inline-block';
            submitButton.style.display = currentQuestionIndex === questions.length - 1 ? 'inline-block' : 'none';
        }

        // Select an option
        function selectOption(optionIndex) {
            if (quizCompleted) return;
            
            userAnswers[currentQuestionIndex] = optionIndex;
            
            // Check if answer is correct
            const question = questions[currentQuestionIndex];
            const isCorrect = optionIndex === question.correctAnswer;
            userCorrect[currentQuestionIndex] = isCorrect;
            
            // Update UI to show selected option
            const options = document.querySelectorAll('.option');
            options.forEach((opt, idx) => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                if (idx === optionIndex) {
                    opt.classList.add('selected');
                    if (isCorrect) {
                        opt.classList.add('correct');
                    } else {
                        opt.classList.add('incorrect');
                    }
                }
                if (idx === question.correctAnswer) {
                    opt.classList.add('correct');
                }
            });
            
            // Show explanation
            showExplanation();
        }

        // Show explanation for current question
        function showExplanation() {
            const question = questions[currentQuestionIndex];
            
            explanationTextElement.textContent = question.explanation;
            memoryTipElement.textContent = question.memoryTip;
            explanationContainer.style.display = 'block';
        }

        // Navigate to previous question
        function goToPreviousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                displayQuestion();
            }
        }

        // Navigate to next question
        function goToNextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                displayQuestion();
            }
        }

        // Submit the quiz
        function submitQuiz() {
            quizCompleted = true;
            
            // Calculate score
            const correctCount = userCorrect.filter(correct => correct).length;
            const incorrectCount = userAnswers.filter((answer, index) => 
                answer !== null && !userCorrect[index]
            ).length;
            const unansweredCount = userAnswers.filter(answer => answer === null).length;
            
            const scorePercentage = Math.round((correctCount / questions.length) * 100);
            const accuracy = userAnswers.filter(answer => answer !== null).length > 0 
                ? Math.round((correctCount / (userAnswers.filter(answer => answer !== null).length)) * 100) 
                : 0;
            
            // Update results UI
            scoreCircle.style.background = `conic-gradient(var(--success) 0% ${scorePercentage}%, var(--light) ${scorePercentage}% 100%)`;
            scorePercentageElement.textContent = `${scorePercentage}%`;
            scoreTextElement.textContent = correctCount;
            correctCountElement.textContent = correctCount;
            incorrectCountElement.textContent = incorrectCount;
            unansweredCountElement.textContent = unansweredCount;
            accuracyElement.textContent = `${accuracy}%`;
            
            // Hide quiz, show results
            document.getElementById('quiz-container').style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        // Show question review
        function showReview() {
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'block';
            
            // Clear previous review
            reviewQuestionsElement.innerHTML = '';
            
            // Add review items
            questions.forEach((question, index) => {
                const reviewItem = document.createElement('div');
                reviewItem.className = 'review-item';
                
                const userAnswerIndex = userAnswers[index];
                const userAnswer = userAnswerIndex !== null ? question.options[userAnswerIndex] : 'Not answered';
                const isCorrect = userCorrect[index];
                const correctAnswer = question.options[question.correctAnswer];
                
                reviewItem.innerHTML = `
                    <div class="review-question">${index + 1}. ${question.question}</div>
                    <div class="review-answer">
                        Your answer: <span class="user-answer ${isCorrect ? 'correct' : 'incorrect'}">${userAnswer}</span>
                    </div>
                    <div class="review-answer correct-answer">
                        Correct answer: ${correctAnswer}
                    </div>
                    <div class="review-answer">
                        <strong>Explanation:</strong> ${question.explanation}
                    </div>
                    <div class="memory-tip">
                        <div class="memory-tip-title">Memory Tip:</div>
                        ${question.memoryTip}
                    </div>
                `;
                
                reviewQuestionsElement.appendChild(reviewItem);
            });
        }

        // Show results after review
        function showResults() {
            reviewContainer.style.display = 'none';
            resultsContainer.style.display = 'block';
        }

        // Restart the quiz
        function restartQuiz() {
            // Reset quiz state
            currentQuestionIndex = 0;
            userAnswers = new Array(questions.length).fill(null);
            userCorrect = new Array(questions.length).fill(false);
            quizCompleted = false;
            
            // Shuffle questions and options again
            shuffleArray(questions);
            questions.forEach(question => {
                // Store the correct answer before shuffling
                const correctAnswer = question.correctAnswer;
                // Shuffle all options
                question.options = shuffleArray(question.options);
                // Update the correct answer index after shuffling
                question.correctAnswer = question.options.indexOf(question.options.find((opt, idx) => 
                    idx === correctAnswer
                ));
            });
            
            // Reset UI
            document.getElementById('quiz-container').style.display = 'block';
            resultsContainer.style.display = 'none';
            reviewContainer.style.display = 'none';
            
            // Display first question
            displayQuestion();
        }

        // Initialize the quiz when the page loads
        window.addEventListener('load', initQuiz);
    </script>
</body>
    </html>
